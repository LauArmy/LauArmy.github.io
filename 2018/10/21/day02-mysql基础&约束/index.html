<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="day02-mysql基础&amp;amp;约束学习目标  能够理解数据库的概念  能够安装MySQL数据库  能够启动,关闭及登录MySQL  能够使用SQL语句操作数据库  能够使用SQL语句操作表结构  能够使用SQL语句进行数据的添加修改和删除的操作  能够使用SQL语句添加约束  第1章 数据库介绍1.1 数据库概述 什么是数据库  数据库就是存储数据的仓库，其本质是一个文件系统，数据按照特定的">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/2018/10/21/day02-mysql基础&约束/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="day02-mysql基础&amp;amp;约束学习目标  能够理解数据库的概念  能够安装MySQL数据库  能够启动,关闭及登录MySQL  能够使用SQL语句操作数据库  能够使用SQL语句操作表结构  能够使用SQL语句进行数据的添加修改和删除的操作  能够使用SQL语句添加约束  第1章 数据库介绍1.1 数据库概述 什么是数据库  数据库就是存储数据的仓库，其本质是一个文件系统，数据按照特定的">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://yoursite.com/2018/10/21/day02-mysql基础&约束/img/01.bmp">
<meta property="og:image" content="http://yoursite.com/2018/10/21/day02-mysql基础&约束/img/02.jpg">
<meta property="og:image" content="http://yoursite.com/2018/10/21/day02-mysql基础&约束/img/03.jpg">
<meta property="og:image" content="http://yoursite.com/2018/10/21/day02-mysql基础&约束/img/04.jpg">
<meta property="og:image" content="http://yoursite.com/2018/10/21/day02-mysql基础&约束/img/05.png">
<meta property="og:image" content="http://yoursite.com/2018/10/21/day02-mysql基础&约束/img/06.png">
<meta property="og:image" content="http://yoursite.com/2018/10/21/day02-mysql基础&约束/img/07.png">
<meta property="og:image" content="http://yoursite.com/2018/10/21/day02-mysql基础&约束/img/09.png">
<meta property="og:image" content="http://yoursite.com/2018/10/21/day02-mysql基础&约束/img/10.png">
<meta property="og:image" content="http://yoursite.com/2018/10/21/day02-mysql基础&约束/img/11.png">
<meta property="og:image" content="http://yoursite.com/2018/10/21/day02-mysql基础&约束/img/12.png">
<meta property="og:updated_time" content="2018-08-25T11:07:01.502Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
<meta name="twitter:description" content="day02-mysql基础&amp;amp;约束学习目标  能够理解数据库的概念  能够安装MySQL数据库  能够启动,关闭及登录MySQL  能够使用SQL语句操作数据库  能够使用SQL语句操作表结构  能够使用SQL语句进行数据的添加修改和删除的操作  能够使用SQL语句添加约束  第1章 数据库介绍1.1 数据库概述 什么是数据库  数据库就是存储数据的仓库，其本质是一个文件系统，数据按照特定的">
<meta name="twitter:image" content="http://yoursite.com/2018/10/21/day02-mysql基础&约束/img/01.bmp">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-day02-mysql基础&amp;约束" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/21/day02-mysql基础&约束/" class="article-date">
  <time datetime="2018-10-21T08:48:44.682Z" itemprop="datePublished">2018-10-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="day02-mysql基础-amp-约束"><a href="#day02-mysql基础-amp-约束" class="headerlink" title="day02-mysql基础&amp;约束"></a>day02-mysql基础&amp;约束</h1><h2 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h2><ul>
<li style="list-style: none"><input type="checkbox"> 能够理解数据库的概念</li>
<li style="list-style: none"><input type="checkbox"> 能够安装MySQL数据库</li>
<li style="list-style: none"><input type="checkbox"> 能够启动,关闭及登录MySQL</li>
<li style="list-style: none"><input type="checkbox"> 能够使用SQL语句操作数据库</li>
<li style="list-style: none"><input type="checkbox"> 能够使用SQL语句操作表结构</li>
<li style="list-style: none"><input type="checkbox"> 能够使用SQL语句进行数据的添加修改和删除的操作</li>
<li style="list-style: none"><input type="checkbox"> 能够使用SQL语句添加约束</li>
</ul>
<h1 id="第1章-数据库介绍"><a href="#第1章-数据库介绍" class="headerlink" title="第1章 数据库介绍"></a>第1章 数据库介绍</h1><h2 id="1-1-数据库概述"><a href="#1-1-数据库概述" class="headerlink" title="1.1 数据库概述"></a>1.1 数据库概述</h2><ul>
<li>什么是数据库</li>
</ul>
<p>数据库就是存储数据的仓库，其本质是一个文件系统，数据按照特定的格式将数据存储起来，用户可以对数据库中的数据进行增加，修改，删除及查询操作。</p>
<ul>
<li>什么是数据库管理系统</li>
</ul>
<p>数据库管理系统（DataBase Management System，DBMS）：指一种操作和管理数据库的大型软件，用于建立、使用和维护数据库，对数据库进行统一管理和控制，以保证数据库的安全性和完整性。用户通过数据库管理系统访问数据库中表内的数据。</p>
<ul>
<li>数据库与数据库管理系统的关系</li>
</ul>
<p><img src="img/01.bmp" alt=""></p>
<h2 id="1-2-数据库表"><a href="#1-2-数据库表" class="headerlink" title="1.2 数据库表"></a>1.2 数据库表</h2><p>数据库中以表为组织单位存储数据。</p>
<p>表类似我们的Java类，每个字段都有对应的数据类型。</p>
<p>​         <img src="img/02.jpg" alt=""></p>
<p>那么用我们熟悉的java程序来与关系型数据对比，就会发现以下对应关系。</p>
<p>类———-表</p>
<p>类中属性———-表中字段</p>
<p>对象———-记录</p>
<p><img src="img/03.jpg" alt=""></p>
<h2 id="1-3-表数据"><a href="#1-3-表数据" class="headerlink" title="1.3 表数据"></a>1.3 表数据</h2><p>根据表字段所规定的数据类型，我们可以向其中填入一条条的数据，而表中的每条数据类似类的实例对象。表中的一行一行的信息我们称之为记录。</p>
<ul>
<li>表记录与java类对象的对应关系</li>
</ul>
<p><img src="img/04.jpg" alt=""></p>
<h2 id="1-4-常见数据库"><a href="#1-4-常见数据库" class="headerlink" title="1.4 常见数据库"></a>1.4 常见数据库</h2><ul>
<li>常见的数据库管理系统</li>
</ul>
<p><strong>MYSQL</strong>：开源免费的数据库，小型的数据库.已经被Oracle收购了.MySQL6.x版本也开始收费。</p>
<p><strong>Oracle</strong>：收费的大型数据库，Oracle公司的产品。Oracle收购SUN公司，收购MYSQL。</p>
<p><strong>DB2</strong> ：IBM公司的数据库产品,收费的。常应用在银行系统中.</p>
<p><strong>SQLServer</strong>：MicroSoft 公司收费的中型的数据库。C#、.net等语言常使用。</p>
<p><strong>SyBase</strong>：已经淡出历史舞台。提供了一个非常专业数据建模的工具PowerDesigner。</p>
<p><strong>SQLite</strong>：嵌入式的小型数据库，应用在手机端。</p>
<p>常用数据库：<strong>MYSQL，Oracle</strong>．</p>
<p>这里使用MySQL数据库。MySQL中可以有多个数据库，数据库是真正存储数据的地方。</p>
<h1 id="第2章-MySql数据库"><a href="#第2章-MySql数据库" class="headerlink" title="第2章 MySql数据库"></a>第2章 MySql数据库</h1><h2 id="2-1-MySql安装"><a href="#2-1-MySql安装" class="headerlink" title="2.1 MySql安装"></a>2.1 MySql安装</h2><ul>
<li>安装</li>
</ul>
<p>参考MySQL安装图解.doc</p>
<p>安装后，MySQL会以windows服务的方式为我们提供数据存储功能。开启和关闭服务的操作：右键点击我的电脑→管理→服务→可以找到MySQL服务开启或停止。</p>
<p><img src="img/05.png" alt=""></p>
<p>也可以在DOS窗口，通过命令完成MySQL服务的启动和停止（必须以管理员身份运行cmd命令窗口）</p>
<p><img src="img/06.png" alt=""></p>
<h2 id="2-2-登录MySQL数据库"><a href="#2-2-登录MySQL数据库" class="headerlink" title="2.2 登录MySQL数据库"></a>2.2 登录MySQL数据库</h2><p>MySQL是一个需要账户名密码登录的数据库，登陆后使用，它提供了一个默认的root账号，使用安装时设置的密码即可登录。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">格式1：cmd&gt;  mysql –u用户名 –p密码</span><br><span class="line">例如：mysql -uroot –proot</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">格式2：cmd&gt;  mysql --host=ip地址 --user=用户名 --password=密码</span><br><span class="line">例如：mysql --host=127.0.0.1  --user=root --password=root</span><br></pre></td></tr></table></figure>
<h1 id="第3章-SQL语句"><a href="#第3章-SQL语句" class="headerlink" title="第3章 SQL语句"></a>第3章 SQL语句</h1><h2 id="3-1-SQL概述"><a href="#3-1-SQL概述" class="headerlink" title="3.1 SQL概述"></a>3.1 SQL概述</h2><h3 id="SQL语句介绍"><a href="#SQL语句介绍" class="headerlink" title="SQL语句介绍"></a>SQL语句介绍</h3><p>数据库是不认识JAVA语言的，但是我们同样要与数据库交互，这时需要使用到数据库认识的语言SQL语句，它是数据库的代码。<br>结构化查询语言(Structured Query Language)简称SQL，是关系型数据库管理系统都需要遵循的规范。不同的数据库生产厂商都支持SQL语句，但都有特有内容。</p>
<p><img src="img/07.png" alt=""></p>
<h3 id="SQL语句分类"><a href="#SQL语句分类" class="headerlink" title="SQL语句分类"></a>SQL语句分类</h3><ul>
<li>SQL分类：<ul>
<li>数据定义语言：简称DDL(Data Definition Language)，用来定义数据库对象：数据库，表，列等。关键字：create，alter，drop等 </li>
<li>数据操作语言：简称DML(Data Manipulation Language)，用来对数据库中表的记录进行更新。关键字：insert，delete，update等</li>
<li>数据控制语言：简称DCL(Data Control Language)，用来定义数据库的访问权限和安全级别，及创建用户。</li>
<li>数据查询语言：简称DQL(Data Query Language)，用来查询数据库中表的记录。关键字：select，from，where等</li>
</ul>
</li>
</ul>
<h3 id="SQL通用语法"><a href="#SQL通用语法" class="headerlink" title="SQL通用语法"></a>SQL通用语法</h3><ul>
<li>SQL语句可以单行或多行书写，以分号结尾</li>
<li>可使用空格和缩进来增强语句的可读性</li>
<li>MySQL数据库的SQL语句不区分大小写，关键字建议使用大写<ul>
<li>例如：SELECT * FROM user。</li>
</ul>
</li>
<li>同样可以使用/**/的方式完成注释</li>
<li>MySQL中的我们常使用的数据类型如下</li>
</ul>
<table>
<thead>
<tr>
<th><strong>类型名称 </strong></th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>int（integer）</td>
<td>整数类型</td>
</tr>
<tr>
<td>double</td>
<td>小数类型</td>
</tr>
<tr>
<td>decimal（m,d）</td>
<td>指定整数位与小数位长度的小数类型</td>
</tr>
<tr>
<td>date</td>
<td>日期类型，格式为yyyy-MM-dd，包含年月日，不包含时分秒</td>
</tr>
<tr>
<td>datetime</td>
<td>日期类型，格式为 YYYY-MM-DD HH:MM:SS，包含年月日时分秒</td>
</tr>
<tr>
<td>timestamp</td>
<td>日期类型，时间戳</td>
</tr>
<tr>
<td>varchar（M）</td>
<td>文本类型， M为0~65535之间的整数</td>
</tr>
</tbody>
</table>
<h2 id="3-2-DDL之数据库操作：database"><a href="#3-2-DDL之数据库操作：database" class="headerlink" title="3.2 DDL之数据库操作：database"></a>3.2 DDL之数据库操作：database</h2><h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h3><p>格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">create database 数据库名;</span><br><span class="line">create database 数据库名 character set 字符集;</span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#创建数据库 数据库中数据的编码采用的是安装数据库时指定的默认编码 utf8</span><br><span class="line">CREATE DATABASE webdb_1; </span><br><span class="line">#创建数据库 并指定数据库中数据的编码</span><br><span class="line">CREATE DATABASE webdb_2 CHARACTER SET utf8;</span><br></pre></td></tr></table></figure>
<h3 id="查看数据库"><a href="#查看数据库" class="headerlink" title="查看数据库"></a>查看数据库</h3><p>查看数据库MySQL服务器中的所有的数据库:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show databases;</span><br></pre></td></tr></table></figure>
<p>查看某个数据库的定义的信息:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show create database 数据库名;</span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show create database webdb_1;</span><br></pre></td></tr></table></figure>
<h3 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop database 数据库名称;</span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop database webdb_2;</span><br></pre></td></tr></table></figure>
<h3 id="使用数据库"><a href="#使用数据库" class="headerlink" title="使用数据库"></a>使用数据库</h3><ul>
<li>查看正在使用的数据库:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select database();</span><br></pre></td></tr></table></figure>
<ul>
<li><p>其他的数据库操作命令</p>
<p>切换数据库：</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use 数据库名;</span><br></pre></td></tr></table></figure>
<p>​    例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use webdb_1;</span><br></pre></td></tr></table></figure>
<h2 id="3-3-DDL之表操作：table"><a href="#3-3-DDL之表操作：table" class="headerlink" title="3.3 DDL之表操作：table"></a>3.3 DDL之表操作：table</h2><h3 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h3><ul>
<li>格式：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">create table 表名(</span><br><span class="line">   字段名 类型(长度) [约束],</span><br><span class="line">   字段名 类型(长度) [约束],</span><br><span class="line">   ...</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">类型：</span><br><span class="line">	varchar(n)	字符串</span><br><span class="line">	int			整形</span><br><span class="line">	double		浮点</span><br><span class="line">	date		时间</span><br><span class="line">	timestamp	时间戳</span><br><span class="line">约束：(详情查看第四章)</span><br><span class="line">	primary key	主键，被主键修饰字段中的数据，不能重复、不能为null。</span><br></pre></td></tr></table></figure>
<ul>
<li>例如：创建分类表</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE category (</span><br><span class="line">  cid INT primary key, #分类ID </span><br><span class="line">  cname VARCHAR(100) #分类名称</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p><img src="img/09.png" alt=""></p>
<h3 id="查看表"><a href="#查看表" class="headerlink" title="查看表"></a>查看表</h3><ul>
<li>查看数据库中的所有表：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">格式：show tables;</span><br></pre></td></tr></table></figure>
<ul>
<li>查看表结构：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">格式：desc 表名;</span><br><span class="line">例如：desc category;</span><br></pre></td></tr></table></figure>
<h3 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h3><ul>
<li>格式：drop table 表名;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">例如：drop table category;</span><br></pre></td></tr></table></figure>
<h3 id="修改表结构格式"><a href="#修改表结构格式" class="headerlink" title="修改表结构格式"></a>修改表结构格式</h3><ul>
<li><p>alter table 表名 add 列名 类型(长度) [约束];</p>
<p>作用：修改表添加列. </p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">例如：#1，为分类表添加一个新的字段为 分类描述 varchar(20)</span><br><span class="line">ALTER TABLE category ADD `desc` VARCHAR(20);</span><br></pre></td></tr></table></figure>
<ul>
<li><p>alter table 表名 modify 列名 类型(长度) 约束;</p>
<p>作用：修改表修改列的类型长度及约束.</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">例如：#2, 为分类表的描述字段进行修改，类型varchar(50) 添加约束 not null</span><br><span class="line">ALTER TABLE category MODIFY `desc` VARCHAR(50) NOT NULL;</span><br></pre></td></tr></table></figure>
<ul>
<li>alter table 表名 change 旧列名 新列名 类型(长度) 约束;<br>作用：修改表修改列名.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">例如：#3, 为分类表的分类名称字段进行更换 更换为 description varchar(30)</span><br><span class="line">ALTER TABLE category CHANGE `desc` description VARCHAR(30);</span><br></pre></td></tr></table></figure>
<ul>
<li><p>alter table 表名 drop 列名; </p>
<p>作用：修改表删除列.</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">例如：#4, 删除分类表中description这列</span><br><span class="line">ALTER TABLE category DROP description;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>rename table 表名 to 新表名; </p>
<p>作用：修改表名</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">例如：#5, 为分类表category 改名成 category2</span><br><span class="line">RENAME TABLE category TO category2;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>alter table 表名 character set 字符集(了解);</p>
<p>作用：修改表的字符集</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">例如：#6, 为分类表 category 的编码表进行修改，修改成 gbk</span><br><span class="line">ALTER TABLE category CHARACTER SET gbk;</span><br></pre></td></tr></table></figure>
<h2 id="3-4-DML数据操作语言"><a href="#3-4-DML数据操作语言" class="headerlink" title="3.4 DML数据操作语言"></a>3.4 DML数据操作语言</h2><h3 id="插入表记录：insert"><a href="#插入表记录：insert" class="headerlink" title="插入表记录：insert"></a>插入表记录：insert</h3><ul>
<li>语法：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- 向表中插入某些字段</span><br><span class="line">insert into 表 (字段1,字段2,字段3..) values  (值1,值2,值3..); </span><br><span class="line">-- 向表中插入所有字段,字段的顺序为创建表时的顺序</span><br><span class="line">insert into 表 values (值1,值2,值3..);</span><br></pre></td></tr></table></figure>
<ul>
<li>注意：<ul>
<li>值与字段必须对应，个数相同，类型相同</li>
<li>值的数据大小必须在字段的长度范围内</li>
<li>除了数值类型外，其它的字段类型的值必须使用引号引起。（建议单引号）</li>
<li>如果要插入空值，可以不写字段，或者插入null。</li>
</ul>
</li>
<li>例如：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO category(cid,cname) VALUES(&apos;c001&apos;,&apos;电器&apos;);</span><br><span class="line">INSERT INTO category(cid,cname) VALUES(&apos;c002&apos;,&apos;服饰&apos;);</span><br><span class="line">INSERT INTO category(cid,cname) VALUES(&apos;c003&apos;,&apos;化妆品&apos;);</span><br><span class="line">INSERT INTO category(cid,cname) VALUES(&apos;c004&apos;,&apos;书籍&apos;);</span><br><span class="line"></span><br><span class="line">INSERT INTO category(cid) VALUES(&apos;c005&apos;);</span><br><span class="line">INSERT INTO category(cname,cid) VALUES(&apos;耗材&apos;,&apos;c006&apos;);</span><br></pre></td></tr></table></figure>
<h3 id="更新表记录：update"><a href="#更新表记录：update" class="headerlink" title="更新表记录：update"></a>更新表记录：update</h3><p>用来修改指定条件的数据，将满足条件的记录指定列修改为指定值</p>
<ul>
<li><p>语法：</p>
<ul>
<li>更新所有记录的指定字段</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update 表名 set 字段名=值,字段名=值,...;</span><br></pre></td></tr></table></figure>
<ul>
<li>更新符合条件记录的指定字段</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update 表名 set 字段名=值,字段名=值,... where 条件;</span><br></pre></td></tr></table></figure>
</li>
<li><p>注意：</p>
<ul>
<li>列名的类型与修改的值要一致.</li>
<li>修改值得时候不能超过最大长度.</li>
<li>除了数值类型外，其它的字段类型的值必须使用引号引起</li>
</ul>
</li>
</ul>
<h3 id="删除记录：delete"><a href="#删除记录：delete" class="headerlink" title="删除记录：delete"></a>删除记录：delete</h3><ul>
<li>语法：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete from 表名 [where 条件];</span><br></pre></td></tr></table></figure>
<h2 id="3-5-DOS操作数据乱码解决"><a href="#3-5-DOS操作数据乱码解决" class="headerlink" title="3.5 DOS操作数据乱码解决"></a>3.5 DOS操作数据乱码解决</h2><p>我们在dos命令行操作中文时，会报错</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">insert into category(cid,cname) values(‘c010’,’中文’);		</span><br><span class="line">ERROR 1366 (HY000): Incorrect string value: &apos;\xB7\xFE\xD7\xB0&apos; for column &apos;cname&apos; at row 1</span><br></pre></td></tr></table></figure>
<p>错误原因:因为mysql的客户端设置编码是utf8,而系统的cmd窗口编码是gbk</p>
<ol>
<li>查看MySQL内部设置的编码</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show variables like &apos;character%&apos;; 查看所有mysql的编码</span><br></pre></td></tr></table></figure>
<p><img src="img/10.png" alt=""></p>
<ol start="2">
<li><p>需要修改client、connection、results的编码一致（GBK编码）</p>
<p>解决方案1：在cmd命令窗口中输入命令，此操作当前窗口有效，为临时方案。</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set names gbk;</span><br></pre></td></tr></table></figure>
<p>​    解决方案2：安装目录下修改my.ini文件，重启服务所有地方生效。</p>
<p><img src="img/11.png" alt=""></p>
<h1 id="第4章-SQL约束"><a href="#第4章-SQL约束" class="headerlink" title="第4章 SQL约束"></a>第4章 SQL约束</h1><h2 id="4-1-主键约束"><a href="#4-1-主键约束" class="headerlink" title="4.1 主键约束"></a>4.1 主键约束</h2><p>PRIMARY KEY 约束唯一标识数据库表中的每条记录。</p>
<ul>
<li>主键必须包含唯一的值。</li>
<li>主键列不能包含 NULL 值。</li>
<li>每个表都应该有一个主键，并且每个表只能有一个主键。</li>
</ul>
<h3 id="添加主键约束"><a href="#添加主键约束" class="headerlink" title="添加主键约束"></a>添加主键约束</h3><ul>
<li>方式一：创建表时，在字段描述处，声明指定字段为主键：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE persons</span><br><span class="line">(</span><br><span class="line">  id_p int PRIMARY KEY,</span><br><span class="line">  lastname varchar(255),</span><br><span class="line">  firstname varchar(255),</span><br><span class="line">  address varchar(255),</span><br><span class="line">  city varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<ul>
<li>方式二：创建表时，在constraint约束区域，声明指定字段为主键：<ul>
<li>格式：<code>[constraint 名称] primary key (字段列表)</code></li>
<li>关键字constraint可以省略，如果需要为主键命名，constraint不能省略，主键名称一般没用。</li>
<li>字段列表需要使用小括号括住，如果有多字段需要使用逗号分隔。声明两个以上字段为主键，我们称为联合主键。</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE persons</span><br><span class="line">(</span><br><span class="line">firstname varchar(255),</span><br><span class="line">lastname varchar(255),</span><br><span class="line">address varchar(255),</span><br><span class="line">city varchar(255),</span><br><span class="line">CONSTRAINT pk_personID PRIMARY KEY (firstname,lastname)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<ul>
<li>方式三：创建表之后，通过修改表结构，声明指定字段为主键：<ul>
<li>格式：<code>ALTER TABLE persons ADD [CONSTRAINT 名称] PRIMARY KEY (字段列表)</code></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE persons</span><br><span class="line">(</span><br><span class="line">firstname varchar(255),</span><br><span class="line">lastname varchar(255),</span><br><span class="line">address varchar(255),</span><br><span class="line">city varchar(255)</span><br><span class="line">)</span><br><span class="line">ALTER TABLE persons ADD PRIMARY KEY (firstname,lastname)</span><br></pre></td></tr></table></figure>
<h3 id="删除主键约束"><a href="#删除主键约束" class="headerlink" title="删除主键约束"></a>删除主键约束</h3><p>如需撤销 PRIMARY KEY 约束，请使用下面的 SQL：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE persons DROP PRIMARY KEY</span><br></pre></td></tr></table></figure>
<h2 id="4-2-自动增长列"><a href="#4-2-自动增长列" class="headerlink" title="4.2 自动增长列"></a>4.2 自动增长列</h2><p>我们通常希望在每次插入新记录时，数据库自动生成字段的值。</p>
<p>我们可以在表中使用 auto_increment（自动增长列）关键字，自动增长列类型必须是整形，自动增长列必须为键(一般是主键)。</p>
<ul>
<li>下列 SQL 语句把 “persons” 表中的 “p_id” 列定义为 auto_increment 主键</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE persons</span><br><span class="line">(</span><br><span class="line">p_id int PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">lastname varchar(255),</span><br><span class="line">firstname varchar(255),</span><br><span class="line">address varchar(255),</span><br><span class="line">city varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<ul>
<li>向persons添加数据时，可以不为p_id字段设置值，也可以设置成null，数据库将自动维护主键值：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO persons (firstname,lastname) VALUES (&apos;Bill&apos;,&apos;Gates&apos;)</span><br><span class="line">INSERT INTO persons (p_id,firstname,lastname) VALUES (NULL,&apos;Bill&apos;,&apos;Gates&apos;)</span><br></pre></td></tr></table></figure>
<ul>
<li>扩展：默认AUTO_INCREMENT 的开始值是 1，如果希望修改起始值，请使用下列 SQL 语法：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE persons AUTO_INCREMENT=100</span><br></pre></td></tr></table></figure>
<ul>
<li>面试题</li>
</ul>
<p>问：针对auto_increment ，删除表中所有记录使用 delete from 表名 或使用 truncate table 表名，二者有什么区别？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">删除方式：</span><br><span class="line">	delete 一条一条删除，不清空auto_increment记录数。</span><br><span class="line">	truncate 直接将表删除，重新建表，auto_increment将置为零，从新开始。</span><br></pre></td></tr></table></figure>
<h2 id="4-3-非空约束"><a href="#4-3-非空约束" class="headerlink" title="4.3 非空约束"></a>4.3 非空约束</h2><p>NOT NULL 约束强制列不接受 NULL 值。</p>
<p>NOT NULL 约束强制字段始终包含值。这意味着，如果不向字段添加值，就无法插入新记录或者更新记录。</p>
<ul>
<li>下面的 SQL 语句强制 “id_p” 列和 “lastname” 列不接受 NULL 值：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE persons</span><br><span class="line">(</span><br><span class="line">id_p int NOT NULL,</span><br><span class="line">lastname varchar(255) NOT NULL,</span><br><span class="line">firstname varchar(255),</span><br><span class="line">address varchar(255),</span><br><span class="line">city varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h2 id="4-4-唯一约束"><a href="#4-4-唯一约束" class="headerlink" title="4.4 唯一约束"></a>4.4 唯一约束</h2><p>UNIQUE 约束唯一标识数据库表中的每条记录。<br>UNIQUE 和 PRIMARY KEY 约束均为列或列集合提供了唯一性的保证。<br>PRIMARY KEY 拥有自动定义的 UNIQUE 约束。<br>请注意，每个表可以有多个 UNIQUE 约束，但是每个表只能有一个 PRIMARY KEY 约束。</p>
<h3 id="添加唯一约束"><a href="#添加唯一约束" class="headerlink" title="添加唯一约束"></a>添加唯一约束</h3><p>与主键添加方式相同，共有3种</p>
<ul>
<li>方式一：创建表时，在字段描述处，声明唯一：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE persons</span><br><span class="line">(</span><br><span class="line">id_p int UNIQUE,</span><br><span class="line">lastname varchar(255) NOT NULL,</span><br><span class="line">firstname varchar(255),</span><br><span class="line">address varchar(255),</span><br><span class="line">city varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<ul>
<li>方式二：创建表时，在约束区域，声明唯一：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE persons</span><br><span class="line">(</span><br><span class="line">id_p int,</span><br><span class="line">lastname varchar(255) NOT NULL,</span><br><span class="line">firstname varchar(255),</span><br><span class="line">address varchar(255),</span><br><span class="line">city varchar(255),</span><br><span class="line">CONSTRAINT 名称UNIQUE (Id_P)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<ul>
<li>方式三：创建表后，修改表结构，声明字段唯一：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE persons ADD [CONSTRAINT 名称] UNIQUE (Id_P)</span><br></pre></td></tr></table></figure>
<h3 id="删除唯一约束"><a href="#删除唯一约束" class="headerlink" title="删除唯一约束"></a>删除唯一约束</h3><ul>
<li>如需撤销 UNIQUE 约束，请使用下面的 SQL：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE persons DROP INDEX 名称</span><br></pre></td></tr></table></figure>
<ul>
<li>如果添加唯一约束时，没有设置约束名称，默认是当前字段的字段名。</li>
</ul>
<h1 id="第5章-MySQL数据库密码重置-扩展"><a href="#第5章-MySQL数据库密码重置-扩展" class="headerlink" title="第5章 MySQL数据库密码重置(扩展)"></a>第5章 MySQL数据库密码重置(扩展)</h1><ol>
<li>停止mysql服务器运行输入services.msc 停止mysql服务</li>
<li>在cmd下,输入mysqld   –console –skip-grant-tables 启动服务器,出现一下页面,不要关闭该窗口</li>
</ol>
<p><img src="img/12.png" alt=""></p>
<ol start="3">
<li>新打开cmd,输入mysql -uroot  不需要密码</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br><span class="line">update user set password=password(&apos;abc&apos;) WHERE user=&apos;root&apos;;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>关闭两个cmd窗口</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/21/day02-mysql基础&约束/" data-id="cjnio5fgf000188o11rqgjxe1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2018/10/21/hello-world-1/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">hello world</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/10/21/day02-mysql基础&约束/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/10/21/hello-world-1/">hello world</a>
          </li>
        
          <li>
            <a href="/2018/10/21/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>